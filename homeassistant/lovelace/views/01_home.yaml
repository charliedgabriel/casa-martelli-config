# lovelace_gen

- title: Home
  icon: mdi:home
  path: home
  cards:
    - !include
      - ../includes/header.yaml
      - title: "Home"

    # Home Header
    - type: weather-forecast
      entity: weather.home
      show_forecast: false

    - type: markdown
      content: >
        {% raw %}
        <table>
          <tr>
            <td class="icon-container">
              <ha-icon icon="mdi:delete-empty"></ha-icon>
            </td>
            <td>
              <h1>
              {%- set today = states("sensor.casa_rifiuti_di_domani") %}
              {%- if 'PAPER' in today -%}
                  Carta
              {%- elif 'PLASTIC' in today -%}
                  Multimateriale
              {%- elif 'DRY' in today -%}
                  Secco
              {%- elif 'ORGANIC' in today -%}
                  Umido      
              {%- elif 'GLASS' in today -%}
                  Vetro
              {% else %}
                  Niente
              {% endif %}
              </h1>
              Rifiuti
          </tr>
        {% endraw %}
      style: >
        {% raw %}
        ha-card {
          background:
              {%- set today = states("sensor.casa_rifiuti_di_domani") %}
              {%- if 'PAPER' in today -%}
                  #424242
              {%- elif 'PLASTIC' in today -%}
                  #F9A825
              {%- elif 'DRY' in today -%}
                #2E7D32
              {%- elif 'ORGANIC' in today -%}
                #4E342E
              {%- elif 'GLASS' in today -%}
                #303F9F
              {% else %}
                #212121
              {% endif %};
          color: #fff;
        }
        {% endraw %}

    - !include
      - ../includes/section.yaml
      - title: Più usati
    - !include
      - ../includes/grid.yaml
      - entities:
          - entity_id: group.areas_soggiorno
            name: Soggiorno
          - entity_id: light.corridoio_notturna
            name: Corridoio
          - entity_id: light.cameretta_scrivania
            name: Scrivania
          - entity_id: light.cortile_frontale
            name: Cortile
          - entity_id: lock.cortile_pedonale
            name: Pedonale
    # Rooms
    - !include
      - ../includes/section.yaml
      - title: Stanze
    - type: vertical-stack
      cards:
        - type: custom:mod-card
          style: |
            ha-card {
              margin-right: -8px;
            }
          card:
            type: custom:layout-card
            layout: horizontal
            column_width: 50%
            justify_content: start
            cards:
              {% for room in _global.rooms %}
              - type: custom:decluttering-card
                template: "hk_simple_link"
                variables:
                  - path: {{ room.name | lower | replace(" ", "_") }}
                  - name: {{ room.name }}
                  - icon: {{ room.icon }}
              {% endfor %}
